# Klipper configuration for testing Gopper firmware on Crea8 board
# Crea8 Motion Control Board - 7-axis stepper controller (RP2350B-based)

[mcu]
# Update this to your actual serial port
# Find with: ls /dev/serial/by-id/*
serial: /dev/ttyACM0
baud: 250000

# X-axis stepper (Motor1)
[stepper_x]
step_pin: gpio10
dir_pin: gpio9
enable_pin: !gpio8  # Adjust based on your board
microsteps: 16
rotation_distance: 40
endstop_pin: ^gpio0  # Adjust based on your endstop wiring
position_endstop: 0
position_max: 200
homing_speed: 50

# Y-axis stepper (Motor2)
[stepper_y]
step_pin: gpio12
dir_pin: gpio13
enable_pin: !gpio11  # Adjust based on your board
microsteps: 16
rotation_distance: 40
endstop_pin: ^gpio1  # Adjust based on your endstop wiring
position_endstop: 0
position_max: 200
homing_speed: 50

# Z-axis stepper (Motor3)
[stepper_z]
step_pin: gpio14
dir_pin: gpio15
enable_pin: !gpio20  # Adjust based on your board
microsteps: 16
rotation_distance: 8
endstop_pin: ^gpio2  # Adjust based on your endstop wiring
position_endstop: 0.5
position_max: 200

# Additional steppers (Motor4-7) - uncomment as needed
# [stepper_a]
# step_pin: gpio16
# dir_pin: gpio17
# enable_pin: !gpio21
# microsteps: 16
# rotation_distance: 40

# [stepper_b]
# step_pin: gpio18
# dir_pin: gpio19
# enable_pin: !gpio24
# microsteps: 16
# rotation_distance: 40

# [stepper_c]
# step_pin: gpio22
# dir_pin: gpio23
# enable_pin: !gpio27
# microsteps: 16
# rotation_distance: 40

# Extruder (Motor7)
[extruder]
step_pin: gpio26
dir_pin: gpio25
enable_pin: !gpio28  # Adjust based on your board
microsteps: 16
rotation_distance: 33.500
nozzle_diameter: 0.400
filament_diameter: 1.750
heater_pin: gpio6  # Adjust based on your board
sensor_type: EPCOS 100K B57560G104F
sensor_pin: ADC0  # Adjust based on your thermistor wiring
control: pid
pid_Kp: 22.2
pid_Ki: 1.08
pid_Kd: 114
min_temp: 0
max_temp: 250

# Heated bed (if available)
[heater_bed]
heater_pin: gpio7  # Adjust based on your board
sensor_type: EPCOS 100K B57560G104F
sensor_pin: ADC1  # Adjust based on your thermistor wiring
control: pid
pid_Kp: 54.027
pid_Ki: 0.770
pid_Kd: 948.182
min_temp: 0
max_temp: 130

# Minimal printer settings for testing
[printer]
kinematics: cartesian
max_velocity: 300
max_accel: 3000
max_z_velocity: 5
max_z_accel: 100

# Virtual SD card for printing from files
[virtual_sdcard]
path: ~/gcode_files

# Display status for Mainsail/Fluidd
[display_status]

# Pause/Resume support
[pause_resume]
